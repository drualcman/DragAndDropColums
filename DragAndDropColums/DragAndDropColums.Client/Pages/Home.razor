@page "/"

<PageTitle>Grid Dinámico - Demo</PageTitle>

<div class="demo-container">
    @* <h1>🏗️ Grid Dinámico Interactivo</h1>
    <p class="lead">Organiza elementos en una grid con diferentes tamaños y posiciones</p>
     *@
    <DraggableGridComponent @bind-Layout="gridLayout" />
    
    @* <div class="demo-info">
        <h3>📊 Información del Layout</h3>
        <p><strong>Elementos:</strong> @gridLayout.Items.Count</p>
        <p><strong>Grid:</strong> @gridLayout.Columns × @gridLayout.Rows</p>
        <button @onclick="ExportLayout" class="btn btn-info">📤 Exportar JSON</button>
    </div> *@
</div>

@code {
    private GridLayout gridLayout = new()
    {
        Columns = 8,
        Rows = 10,
        Items = new List<GridItem>
        {
            new() { 
                Column = 1, 
                Row = 1, 
                ColumnSpan = 2, 
                RowSpan = 2, 
                Content = "Título Principal", 
                BackgroundColor = "#FFCCCC" 
            },
            new() { 
                Column = 4, 
                Row = 1,
                ColumnSpan = 2,
                RowSpan = 2,
                Content = "Subtítulo o descripción breve", 
                BackgroundColor = "#CCFFCC" 
            },
            new() { 
                Column = 1, 
                Row = 4,
                ColumnSpan = 2,
                RowSpan = 2,
                Content = "Contenido principal que puede ser más largo y ocupar múltiples celdas. Ideal para mostrar información detallada.", 
                BackgroundColor = "#CCCCFF" 
            },
            new() { 
                Column = 6, 
                Row = 3,
                ColumnSpan = 2,
                RowSpan = 2,
                Content = "Panel lateral o sidebar con información adicional", 
                BackgroundColor = "#FFFFCC" 
            },
        }
    };
    
    private void ExportLayout()
    {
        var json = JsonSerializer.Serialize(gridLayout, new JsonSerializerOptions 
        { 
            WriteIndented = true 
        });
        
        // En una aplicación real, podrías:
        // 1. Copiar al portapapeles
        // 2. Mostrar en un modal
        // 3. Descargar como archivo
        Console.WriteLine("JSON exportado:");
        Console.WriteLine(json);
    }
}